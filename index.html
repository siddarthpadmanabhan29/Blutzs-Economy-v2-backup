<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blutz Economy</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- ---------- Login Screen ---------- -->
  <div id="login-screen" class="screen">
    <div id="login-form">
      <h1>Login / Register</h1>
      <input id="login-username" placeholder="Username" autocomplete="off">
      <input id="login-password" type="password" placeholder="Password" autocomplete="new-password">
      <button id="login-btn" class="btn-primary">Login / Register</button>
    </div>
  </div>

  <!-- ---------- Dashboard ---------- -->
  <div id="dashboard" class="screen hidden">
    <!-- Navbar -->
    <header id="dashboard-navbar">
      <div class="navbar-left">
        <span>Welcome, <strong id="user-name"></strong></span>
        <span>Balance: <strong id="user-balance"></strong></span>
      </div>
      <div class="navbar-right">
        <button id="open-admin" class="btn-secondary hidden">Admin Panel</button>
        <button id="logout-btn" class="btn-danger">Logout</button>
      </div>
    </header>

    <!-- Dashboard Content -->
    <main id="dashboard-content">
      <!-- Profile Section -->
      <section class="section-card">
        <h3>Profile</h3>
        <p><strong>Username:</strong> <span id="profile-username"></span></p>
        <p><strong>ID:</strong> <span id="profile-uid"></span></p>
        <p><strong>Renewed On:</strong> <span id="profile-renewal"></span></p>
        <p><strong>Expires On:</strong> <span id="profile-expiration"></span></p>
        <p><strong>Status:</strong> <span id="renewal-status"></span></p>
        <button id="renew-btn" class="btn-primary">Request Renewal</button>
      </section>

      <!-- Shop Section -->
      <section class="section-card">
        <h3>Shop</h3>
        <div id="shop-items"></div>
      </section>

      <!-- Jobs Section -->
      <section class="section-card">
        <h3>Jobs</h3>
        <div id="jobs"></div>
      </section>

      <!-- Inventory Section -->
      <section class="section-card">
        <h3>Inventory</h3>
        <p id="inventory-value">Total Value: $0</p>
        <div id="inventory-items">Loading...</div>
      </section>

      <!-- Transfer Section -->
      <section class="section-card">
        <h3>Transfer Money</h3>
        <div class="transfer-container">
            <input id="transfer-to" placeholder="Recipient Username" autocomplete="off">
            <input id="transfer-amount" type="number" placeholder="Amount">
            <button id="transfer-btn" class="btn-primary">Send</button>
        </div>
        <p id="transfer-message"></p>
      </section>

      <!-- History Section -->
      <section class="section-card">
        <h3>History</h3>
        <table>
          <tbody id="history-table"></tbody>
        </table>
      </section>
    </main>
  </div>

  <!-- ---------- Admin Panel ---------- -->
  <div id="admin-panel" class="screen hidden">
    <h2>Admin Panel</h2>
    <button id="back-to-dashboard" class="btn-secondary">Back</button>

    <h3>Add Shop Item</h3>
    <input id="new-item-name" placeholder="Item Name">
    <input id="new-item-price" type="number" placeholder="Price">
    <input id="new-item-image" placeholder="Image URL (optional)">
    <input id="new-item-category" placeholder="Category (optional)">
    <button id="add-item-btn" class="btn-primary">Add Item</button>
    <p id="add-item-status"></p>

    <h3>Add Job</h3>
    <input id="new-job-name" placeholder="Job Name">
    <input id="new-job-pay" type="number" placeholder="Pay">
    <button id="add-job-btn" class="btn-primary">Add Job</button>

    <h3>Give Money</h3>
    <input id="admin-give-username" placeholder="Username" autocomplete="off">
    <input id="admin-give-amount" type="number" placeholder="Amount">
    <p>
      <strong>User:</strong> 
      <span id="admin-user-info" style="color: gray;">N/A</span>
    </p>
    <button id="admin-give-btn" class="btn-danger">Give Money</button>

    <h3>Renewal Requests</h3>
    <div id="renewal-requests"></div>
  </div>

  <!-- ---------- Scripts ---------- -->
  <script type="module" src="firebaseConfig.js"></script>
  <script type="module" src="auth.js"></script>
  <script type="module" src="shop.js"></script>
  <script type="module" src="dashboard.js"></script>
  <script type="module" src="transfer.js"></script>
</body>
</html>
